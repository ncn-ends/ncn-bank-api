<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>/home/one/code/bank-api/Tests/Helpers/Comparisons.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System.Diagnostics;
using System.Reflection;
using DataAccess.Models;
using FluentAssertions;

namespace Tests.Helpers;

public static class Comparisons
{
    public static bool AreEqual&lt;T&gt;(T a, T b)
    {
        PropertyInfo[] properties = typeof(T).GetProperties();
        foreach (PropertyInfo prop in properties)
        {
            var valA = a.GetType().GetProperty(prop.Name)?.GetValue(a);
            var valB = a.GetType().GetProperty(prop.Name)?.GetValue(b);
            if (!string.Equals(valA, valB)) return false;
        }

        return true;
    }

    public static bool AreRoughlyEqual&lt;T&gt;(T a, T b, int maxMismatches = 1)
    {
        PropertyInfo[] properties = typeof(T).GetProperties();

        int mismatches = 0;
        foreach (PropertyInfo prop in properties)
        {
            var valA = a.GetType().GetProperty(prop.Name)?.GetValue(a);
            var valB = a.GetType().GetProperty(prop.Name)?.GetValue(b);
            Debugger.Break();
            if (!string.Equals(valA, valB))
            {
                if (mismatches &gt;= maxMismatches) return false;
                mismatches++;
            }
        }

        return true;
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[11,5,11,6,0],[12,9,12,63,0],[13,9,13,16,0],[13,18,13,35,0],[13,36,13,38,0],[13,39,13,49,0],[14,9,14,10,0],[15,13,15,72,0],[16,13,16,72,0],[17,13,17,44,0],[17,45,17,58,0],[18,9,18,10,0],[20,9,20,21,0],[21,5,21,6,0],[24,5,24,6,0],[25,9,25,63,0],[27,9,27,28,0],[28,9,28,16,0],[28,18,28,35,0],[28,36,28,38,0],[28,39,28,49,0],[29,9,29,10,0],[30,13,30,72,0],[31,13,31,72,0],[32,13,32,30,0],[33,13,33,44,0],[34,13,34,14,0],[35,17,35,49,0],[35,50,35,63,0],[36,17,36,30,0],[37,13,37,14,0],[38,9,38,10,0],[40,9,40,21,0],[41,5,41,6,0]]);
    </script>
  </body>
</html>