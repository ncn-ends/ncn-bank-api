<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>/home/one/code/bank-api/DataAccess/Models/PersonModels.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using System.ComponentModel.DataAnnotations;
using FluentValidation;

namespace DataAccess.Models;

public class PersonBO
{
    public int Id { get; set; } = -1;
    public string Name { get; set; } = &quot;UNSET NAME&quot;;
    public int Age { get; set; } = -1;
}

public class PersonDTO
{
    public int Id { get; set; } = -1;
    public string Name { get; set; } = &quot;UNSET NAME&quot;;
    public int Age { get; set; } = -1;
}

public class PersonValidator : AbstractValidator&lt;PersonBO&gt;
{
    public PersonValidator()
    {
        RuleFor(x =&gt; x.Name).Length(0, 50);
        RuleFor(x =&gt; x.Age).InclusiveBetween(0, 150);
    }
}

public interface IPersonManager
{
    Task Manage(PersonBO person);
}

public class PersonManager : IPersonManager
{
    private readonly IValidator&lt;PersonBO&gt; _validator;

    public PersonManager(IValidator&lt;PersonBO&gt; validator)
    {
        _validator = validator;
    }
    
    public async Task Manage(PersonBO person)
    {
        await _validator.ValidateAndThrowAsync(person);
    }
}
    </pre>
    <script type="text/javascript">
      highlightRanges([[8,21,8,25,0],[8,26,8,30,0],[8,35,8,37,0],[9,26,9,30,0],[9,31,9,35,0],[9,40,9,52,0],[10,22,10,26,0],[10,27,10,31,0],[10,36,10,38,0],[15,21,15,25,0],[15,26,15,30,0],[15,35,15,37,0],[16,26,16,30,0],[16,31,16,35,0],[16,40,16,52,0],[17,22,17,26,0],[17,27,17,31,0],[17,36,17,38,0],[22,5,22,29,0],[23,5,23,6,0],[24,9,24,44,0],[25,9,25,54,0],[26,5,26,6,0],[38,5,38,57,0],[39,5,39,6,0],[40,9,40,32,0],[41,5,41,6,0],[44,5,44,6,0],[45,9,45,56,0],[46,5,46,6,0]]);
    </script>
  </body>
</html>