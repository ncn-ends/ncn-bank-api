<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>/home/one/code/bank-api/Api/Program.cs</title>
    <script type="text/javascript" src="../js/dotcover.sourceview.js"></script>
    <link rel="stylesheet" type="text/css" href="../css/dotcover.report.css" />
  </head>
  <body>
    <pre id="content" class="source-code">
using Api.Endpoints;
using Api.Extensions;
using Api.Helpers;
using DataAccess;
using DataAccess.Access;
using DataAccess.Models;
using DataAccess.Setup;
using FluentValidation;
using Microsoft.AspNetCore.Identity;

var builder = WebApplication.CreateBuilder();

builder.Services.AddEndpointsApiExplorer();
builder.Services.AddSwaggerGen();

builder.Services.AddDataAccess();

builder.Services.AddScoped&lt;IValidator&lt;PersonBO&gt;, PersonValidator&gt;();
builder.Services.AddScoped&lt;IPersonManager, PersonManager&gt;();

var app = builder.Build();

using (var scope = app.Services.CreateScope())
{
    var services = scope.ServiceProvider;
    var setupAccess = services.GetRequiredService&lt;ISetupAccess&gt;();
    await setupAccess.EnsureDatabaseSetup();
}


/* Middleware Pipeline */
app.UseCustomExceptionHandler();

if (app.Environment.IsDevelopment())
{
    app.UseSwagger();
    app.UseSwaggerUI();
}

// MappingRules.SetRules();
app.UseHttpsRedirection();

app.MapEndpoints();

app.Run();

    </pre>
    <script type="text/javascript">
      highlightRanges([[11,1,11,46,1],[13,1,13,44,1],[14,1,14,34,1],[16,1,16,34,1],[18,1,18,69,1],[19,1,19,61,1],[21,1,21,27,1],[23,8,23,46,1],[24,1,24,2,1],[25,5,25,42,1],[26,5,26,67,1],[27,5,27,45,1],[28,1,28,2,1],[32,1,32,33,1],[34,1,34,37,1],[35,1,35,2,1],[36,5,36,22,1],[37,5,37,24,1],[38,1,38,2,1],[41,1,41,27,1],[43,1,43,20,1],[45,1,45,11,1]]);
    </script>
  </body>
</html>